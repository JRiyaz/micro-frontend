<VirtualHost *:80>
    ServerName localhost.com
    Protocols h2 http/1.1

    Include conf/mod_headers.conf
    AddDefaultCharset UTF-8

    ProxyPreserveHost on
    RewriteEngine on

    # Add the specific rule for /federation.manifest.json
    RewriteRule "^/$" "/shell" [L,R=301]
    RewriteRule "^/shell(.*)$" "http://host.docker.internal:4200/shell$1" [P,QSA,L]
    RewriteRule "^/user(.*)$" "http://host.docker.internal:4210/user$1" [P,QSA,L]

</VirtualHost>
